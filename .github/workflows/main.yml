name : GITHUB ACTIONS avec le maven build
#le on : 
on : 
  push :
       branches: [ main ]
jobs:
# This workflow contains a single job called "build"
  build:
      runs-on: ubuntu-latest
        # Steps represent a sequence of tasks that will be executed as part of the job
      steps:
        # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
        - name: Step 1 Checkout main branch from GitHub 
          uses : actions/checkout@v2
          
         
        - name: Step 2 - Set up JDK 11
          uses: actions/setup-java@v1
          with:
              java-version: '11' 
              distribution: 'adopt ' 

              
              
        - name: step 3 Build with Maven 
          run : mvn --batch-mode --update-snapshots package
          #  mvn -B package --file pom.xml

        - name : step 4 afficher tout les fichier avec ceux archiver "-a"
          run : |
                cd target 
                ls -a
  run_tests:
     runs-on: ubuntu-latest
     steps:
      - name: Checkout the repository
        uses: actions/checkout@v2
      - name: Set up JDK 14
        uses: actions/setup-java@v1
        with:
          java-version: 11
      - name: Run tests with Maven
        run: mvn  test
